<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Predicción de precios de Coches</title>
    <!-- CSS Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
    <div style="margin-left: 100px; margin-top: 60px;">
        <h1>Predicción de precios de coches</h1>
    </div>
    <form action="/api/predict/coche" method="post">
        <div class="row mb-3" style="margin: 100px;">
            <div class="col-md-4">
                <label for="brand" class="form-label"><b>Marca</b></label>
                <select id="brand" class="form-select" name="brand">
                    <option selected>Selecciona una marca</option>
                    <option value="AUDI">AUDI</option>
                    <option value="BMW">BMW</option>
                    <option value="MAZDA">MAZDA</option>
                    <option value="OPEL">OPEL</option>
                    <option value="RENAULT">RENAULT</option>
                    <option value="MINI">MINI</option>
                    <option value="MITSUBISHI">MITSUBISHI</option>
                    <option value="NISSAN">NISSAN</option>
                    <option value="PORSCHE">PORSCHE</option>
                    <option value="PEUGEOT">PEUGEOT</option>
                    <option value="SEAT">SEAT</option>
                    <option value="SKODA">SKODA</option>
                    <option value="HONDA">HONDA</option>
                    <option value="HYUNDAI">HYUNDAI</option>
                    <option value="JAGUAR">JAGUAR</option>
                    <option value="JEEP">JEEP</option>
                    <option value="KIA">KIA</option>
                    <option value="FORD">FORD</option>
                    <option value="FIAT">FIAT</option>
                    <option value="DS">DS</option>
                    <option value="FERRARI">FERRARI</option>
                    <option value="LAND-ROVER">LAND-ROVER</option>
                    <option value="LEXUS">LEXUS</option>
                    <option value="MERCEDES-BENZ">MERCEDES-BENZ</option>
                    <option value="ABARTH">ABARTH</option>
                    <option value="ALFA ROMEO">ALFA ROMEO</option>
                    <option value="CHEVROLET">CHEVROLET</option>
                    <option value="CITROEN">CITROEN</option>
                    <option value="CUPRA">CUPRA</option>
                    <option value="DACIA">DACIA</option>
                    <option value="VOLKSWAGEN">VOLKSWAGEN</option>
                </select></br>
            </div> 

            <div class="col-md-4">
                <label for="model" class="form-label"><b>Modelo</b></label>
                <input type="text" class="form-control" id="model" name="model"></br>
            </div>

            <div class="col-md-4">
                <label for="km" class="form-label"><b>Kilometros</b></label>
                <input type="number" class="form-control"  id="km" min="0" max="500000" name="km"></br>
            </div>

            <div class="col-md-4">
                <label for="year" class="form-label"><b>Año</b></label>
                <input type="number" class="form-control" id="year" name="year"></br>
            </div>

            <div class="col-md-4">
                <label for="fueltype" class="form-label"><b>Combustible</b></label>
                <select id="fueltype" class="form-select" name="fueltype">
                    <option value="">Selecciona un tipo de combustible</option>
                    <option value="Diésel">Diésel</option>
                    <option value="Gasolina">Gasolina</option>
                    <option value="Híbrido">Híbrido</option>
                    <option value="Híbrido enchufable">Híbrido enchufable</option>
                    <option value="Gas natural (CNG)">Gas natural (CNG)</option>
                    <option value="Eléctrico">Eléctrico</option>
                    <option value="Gas licuado (GLP)">Gas licuado (GLP)</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="cubiccapacity" class="form-label"><b>Cilindrada</b></label>
                <input type="number" class="form-control" id="cubiccapacity" name="cubiccapacity"></br>
            </div>

            <div class="col-md-4">
                <label for="province" class="form-label"><b>Provincia</b></label>
                <select id="province" class="form-select" name="province">
                    <option value="Almería">Almería</option>
                    <option value="Alicante">Alicante</option>
                    <option value="Asturias">Asturias</option>
                    <option value="Madrid">Madrid</option>
                    <option value="Pontevedra">Pontevedra</option>
                    <option value="Albacete">Albacete</option>
                    <option value="Valencia">Valencia</option>
                    <option value="Barcelona">Barcelona</option>
                    <option value="Córdoba">Córdoba</option>
                    <option value="Sevilla">Sevilla</option>
                    <option value="Baleares">Baleares</option>
                    <option value="Cádiz">Cádiz</option>
                    <option value="Sta. C. Tenerife">Sta. C. Tenerife</option>
                    <option value="Ciudad Real">Ciudad Real</option>
                    <option value="Lugo">Lugo</option>
                    <option value="León">León</option>
                    <option value="Málaga">Málaga</option>
                    <option value="Granada">Granada</option>
                    <option value="Jaén">Jaén</option>
                    <option value="Zaragoza">Zaragoza</option>
                    <option value="Tarragona">Tarragona</option>
                    <option value="Murcia">Murcia</option>
                    <option value="La Rioja">La Rioja</option>
                    <option value="Burgos">Burgos</option>
                    <option value="Vizcaya">Vizcaya</option>
                    <option value="A Coruña">A Coruña</option>
                    <option value="Las Palmas">Las Palmas</option>
                    <option value="Álava">Álava</option>
                    <option value="Zamora">Zamora</option>
                    <option value="Badajoz">Badajoz</option>
                    <option value="Navarra">Navarra</option>
                    <option value="Girona">Girona</option>
                    <option value="Lleida">Lleida</option>
                    <option value="Valladolid">Valladolid</option>
                    <option value="Castellón">Castellón</option>
                    <option value="Huelva">Huelva</option>
                    <option value="Cantabria">Cantabria</option>
                    <option value="Toledo">Toledo</option>
                    <option value="Cáceres">Cáceres</option>
                    <option value="Guipúzcoa">Guipúzcoa</option>
                    <option value="Palencia">Palencia</option>
                    <option value="Huesca">Huesca</option>
                    <option value="Guadalajara">Guadalajara</option>
                    <option value="Salamanca">Salamanca</option>
                    <option value="Ávila">Ávila</option>
                    <option value="Teruel">Teruel</option>
                    <option value="Cuenca">Cuenca</option>
                    <option value="Ourense">Ourense</option>
                    <option value="Soria">Soria</option>
                    <option value="Segovia">Segovia</option>
                    <option value="Melilla">Melilla</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="bodytype" class="form-label"><b>Carrocería</b></label>
                <select id="bodytype" class="form-select" name="bodytype">
                    <option value="Berlina">Berlina</option>
                    <option value="4x4 SUV">4x4 SUV</option>
                    <option value="Familiar">Familiar</option>
                    <option value="Cabrio">Cabrio</option>
                    <option value="Coupe">Coupe</option>
                    <option value="BODY_TYPE_SEDAN">Sedán</option>
                    <option value="BODY_TYPE_4X4">4x4</option>
                    <option value="BODY_TYPE_MINIVAN">Minivan</option>
                    <option value="BODY_TYPE_CABRIO">Cabrio</option>
                    <option value="BODY_TYPE_FAMILIAR">Familiar</option>
                    <option value="BODY_TYPE_PICK_UP">Pick up</option>
                    <option value="BODY_TYPE_COUPE">Coupe</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="seller_type" class="form-label"><b>Tipo de vendedor</b></label>
                <select id="seller_type" class="form-select" name="seller_type">
                    <option value="profesional">Profesional</option>
                    <option value="particular">Particular</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="hp" class="form-label"><b>Potencia</b></label>
                <input type="number" class="form-control" id="hp" name="hp"></br>
            </div>

            <div class="col-md-4">
                <label for="transmissiontype" class="form-label"><b>Tipo de transmisión</b></label>
                <select id="transmissiontype" class="form-select" name="transmissiontype">
                    <option value="AUTOMATIC">Automático</option>
                    <option value="MANUAL">Manual</option>
                    <option value="COMMON.TRANSMISSION_MANUAL">Transmisión manual común</option>
                    <option value="COMMON.TRANSMISSION_AUTOMATIC">Transmisión automática común</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="doors" class="form-label"><b>Número de puertas</b></label>
                <input type="number"  class="form-control" id="doors" name="doors"></br>
            </div>

            <div class="col-md-4">
                <label for="color" class="form-label"><b>Color</b></label>
                <select id="color" class="form-select" name="color">
                    <option value="">Selecciona un color</option>
                    <option value="BLUE">Azul</option>
                    <option value="RED">Rojo</option>
                    <option value="GRAY">Gris</option>
                    <option value="WHITE">Blanco</option>
                    <option value="BLACK">Negro</option>
                    <option value="YELLOW">Amarillo</option>
                    <option value="ORANGE">Naranja</option>
                    <option value="BROWN">Marrón</option>
                    <option value="GREEN">Verde</option>
                    <option value="GARNET">Granate</option>
                    <option value="COMMON.COLOR_BLACK">Negro común</option>
                    <option value="COMMON.COLOR_WHITE">Blanco común</option>
                    <option value="COMMON.COLOR_BLUE">Azul común</option>
                    <option value="COMMON.COLOR_GRAY">Gris común</option>
                    <option value="COMMON.COLOR_BEIGE">Beige común</option>
                    <option value="COMMON.COLOR_ORANGE">Naranja común</option>
                    <option value="COMMON.COLOR_BROWN">Marrón común</option>
                    <option value="COMMON.COLOR_RED">Rojo común</option>
                    <option value="COMMON.COLOR_YELLOW">Amarillo común</option>
                    <option value="COMMON.COLOR_GREEN">Verde común</option>
                    <option value="COMMON.COLOR_GARNET">Granate común</option>
                    <option value="COMMON.COLOR_PURPLE">Morado común</option>
                    <option value="COMMON.COLOR_PINK">Rosa común</option>
                </select></br>
            </div>

            <div class="col-md-4">
                <label for="precio" class="fs-4"><b>PRECIO</b></label>
                <div class="border border-success p-2 mb-4">
                    <p id="precio" class="fs-4"></p>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Calcular precio</button>
        </div>
    </form>

    <script>
        const form = document.querySelector('form');
        const precio = document.getElementById('precio');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(form);
            const coche = Object.fromEntries(formData);
            fetch('http://localhost:5000/predecir', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(coche)
            })
                .then(response => response.json())
                .then(data => {
                    const precioTexto = `${data.precio} €`;
                    precio.textContent = precioTexto;
                })
                .catch(error => console.error(error));
        });
    </script>

</body>
</html>